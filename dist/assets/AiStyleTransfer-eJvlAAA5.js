import{r as t,V as y,j as e,S as j,L as m,M as b}from"./index-Br2PlERp.js";import"https://esm.sh/octokit@4.0.2";const g="function my_func(x,y){return x+y;}",N=`- Use camelCase for function names.
- Add a space after commas in argument lists.
- Use semicolons at the end of statements.`,C=()=>{const[r,u]=t.useState(g),[a,f]=t.useState(N),[l,i]=t.useState(""),[n,x]=t.useState(!1),[c,d]=t.useState(""),h=t.useCallback(async()=>{if(!r.trim()||!a.trim()){d("Please provide both code and a style guide.");return}x(!0),d(""),i("");try{const s=y({code:r,styleGuide:a});let o="";for await(const p of s)o+=p,i(o)}catch(s){const o=s instanceof Error?s.message:"An unknown error occurred.";d(`Failed to transfer style: ${o}`)}finally{x(!1)}},[r,a]);return e.jsxs("div",{className:"h-full flex flex-col p-4 sm:p-6 lg:p-8 text-text-primary",children:[e.jsxs("header",{className:"mb-6",children:[e.jsxs("h1",{className:"text-3xl font-bold flex items-center",children:[e.jsx(j,{}),e.jsx("span",{className:"ml-3",children:"AI Code Style Transfer"})]}),e.jsx("p",{className:"text-text-secondary mt-1",children:"Rewrite code to match a specific style guide using AI."})]}),e.jsxs("div",{className:"flex-grow flex flex-col gap-4 min-h-0",children:[e.jsxs("div",{className:"flex flex-col flex-1 min-h-0",children:[e.jsx("label",{htmlFor:"input-code",className:"text-sm font-medium text-text-secondary mb-2",children:"Original Code"}),e.jsx("textarea",{id:"input-code",value:r,onChange:s=>u(s.target.value),className:"flex-grow p-4 bg-surface border border-border rounded-md resize-y font-mono text-sm"})]}),e.jsxs("div",{className:"flex flex-col flex-1 min-h-0",children:[e.jsx("label",{htmlFor:"style-guide",className:"text-sm font-medium text-text-secondary mb-2",children:"Style Guide"}),e.jsx("textarea",{id:"style-guide",value:a,onChange:s=>f(s.target.value),className:"flex-grow p-4 bg-surface border border-border rounded-md resize-y font-mono text-sm"})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx("button",{onClick:h,disabled:n,className:"btn-primary w-full max-w-xs mx-auto flex items-center justify-center px-6 py-3",children:n?e.jsx(m,{}):"Rewrite Code"})}),e.jsxs("div",{className:"flex flex-col flex-1 min-h-0",children:[e.jsx("label",{className:"text-sm font-medium text-text-secondary mb-2",children:"Rewritten Code"}),e.jsxs("div",{className:"flex-grow p-1 bg-background border border-border rounded-md overflow-y-auto",children:[n&&!l&&e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(m,{})}),c&&e.jsx("p",{className:"p-4 text-red-500",children:c}),l&&e.jsx(b,{content:l}),!n&&!l&&!c&&e.jsx("div",{className:"text-text-secondary h-full flex items-center justify-center",children:"Rewritten code will appear here."})]})]})]})]})};export{C as AiStyleTransfer};
