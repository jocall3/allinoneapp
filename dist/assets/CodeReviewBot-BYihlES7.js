import{r,Z as h,j as e,d as p,L as x,M as j}from"./index-Br2PlERp.js";import"https://esm.sh/octokit@4.0.2";const v=`function UserList(users) {
  if (users.length = 0) {
    return "no users";
  } else {
    return (
      users.map(u => {
        return <li>{u.name}</li>
      })
    )
  }
}`,g=()=>{const[t,m]=r.useState(v),[a,i]=r.useState(""),[l,d]=r.useState(!1),[o,c]=r.useState(""),u=r.useCallback(async()=>{if(!t.trim()){c("Please enter some code to review.");return}d(!0),c(""),i("");try{const s=h(t);let n="";for await(const f of s)n+=f,i(n)}catch(s){const n=s instanceof Error?s.message:"An unknown error occurred.";c(`Failed to get review: ${n}`)}finally{d(!1)}},[t]);return e.jsxs("div",{className:"h-full flex flex-col p-4 sm:p-6 lg:p-8 text-text-primary",children:[e.jsxs("header",{className:"mb-6",children:[e.jsxs("h1",{className:"text-3xl font-bold flex items-center",children:[e.jsx(p,{}),e.jsx("span",{className:"ml-3",children:"AI Code Review Bot"})]}),e.jsx("p",{className:"text-text-secondary mt-1",children:"Get an automated code review from Gemini."})]}),e.jsxs("div",{className:"flex-grow flex flex-col gap-4 min-h-0",children:[e.jsxs("div",{className:"flex flex-col flex-1 min-h-0",children:[e.jsx("label",{htmlFor:"code-input",className:"text-sm font-medium text-text-secondary mb-2",children:"Code to Review"}),e.jsx("textarea",{id:"code-input",value:t,onChange:s=>m(s.target.value),placeholder:"Paste your code here...",className:"flex-grow p-4 bg-surface border border-border rounded-md resize-none font-mono text-sm"})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx("button",{onClick:u,disabled:l,className:"btn-primary w-full max-w-xs mx-auto flex items-center justify-center px-6 py-3",children:l?e.jsx(x,{}):"Request Review"})}),e.jsxs("div",{className:"flex flex-col flex-1 min-h-0",children:[e.jsx("label",{className:"text-sm font-medium text-text-secondary mb-2",children:"AI Feedback"}),e.jsxs("div",{className:"flex-grow p-4 bg-background border border-border rounded-md overflow-y-auto",children:[l&&!a&&e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(x,{})}),o&&e.jsx("p",{className:"text-red-500",children:o}),a&&e.jsx(j,{content:a}),!l&&!a&&!o&&e.jsx("div",{className:"text-text-secondary h-full flex items-center justify-center",children:"Review will appear here."})]})]})]})]})};export{g as CodeReviewBot};
