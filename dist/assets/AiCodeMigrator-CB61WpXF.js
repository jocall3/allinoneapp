import{r as s,a2 as L,j as e,a3 as A,L as w,M}from"./index-Br2PlERp.js";import"https://esm.sh/octokit@4.0.2";const k=["SASS","CSS","JavaScript","TypeScript","Python","Go","React","Vue","Angular","Tailwind CSS"],E=`// SASS
$primary-color: #333;

body {
  color: $primary-color;
  font-family: sans-serif;
}`,R=({inputCode:a,fromLang:o,toLang:l})=>{const[g,h]=s.useState(a||E),[x,p]=s.useState(""),[j,S]=s.useState(o||"SASS"),[b,y]=s.useState(l||"CSS"),[n,N]=s.useState(!1),[m,u]=s.useState(""),f=s.useCallback(async(t,i,r)=>{if(!t.trim()){u("Please enter some code to migrate.");return}N(!0),u(""),p("");try{const c=L(t,i,r);let d="";for await(const C of c)d+=C,p(d)}catch(c){const d=c instanceof Error?c.message:"An unknown error occurred.";u(`Failed to migrate code: ${d}`)}finally{N(!1)}},[]);s.useEffect(()=>{a&&o&&l&&(h(a),S(o),y(l),f(a,o,l))},[a,o,l,f]);const v=({value:t,onChange:i})=>e.jsx("select",{value:t,onChange:r=>i(r.target.value),className:"w-full px-3 py-2 rounded-md bg-surface border border-border",children:k.map(r=>e.jsx("option",{value:r,children:r},r))});return e.jsxs("div",{className:"h-full flex flex-col p-4 sm:p-6 lg:p-8 text-text-primary",children:[e.jsxs("header",{className:"mb-6",children:[e.jsxs("h1",{className:"text-3xl font-bold flex items-center",children:[e.jsx(A,{}),e.jsx("span",{className:"ml-3",children:"AI Code Migrator"})]}),e.jsx("p",{className:"text-text-secondary mt-1",children:"Translate code between languages, frameworks, and syntax styles."})]}),e.jsxs("div",{className:"flex-grow flex flex-col min-h-0",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 flex-grow min-h-0",children:[e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"text-sm font-medium text-text-secondary",children:"From:"}),e.jsx(v,{value:j,onChange:S})]}),e.jsx("textarea",{value:g,onChange:t=>h(t.target.value),placeholder:"Paste your source code here...",className:"flex-grow p-4 bg-surface border border-border rounded-md resize-none font-mono text-sm"})]}),e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"text-sm font-medium text-text-secondary",children:"To:"}),e.jsx(v,{value:b,onChange:y})]}),e.jsxs("div",{className:"flex-grow p-1 bg-background border border-border rounded-md overflow-y-auto",children:[n&&e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(w,{})}),m&&e.jsx("p",{className:"p-4 text-red-500",children:m}),x&&!n&&e.jsx(M,{content:x}),!n&&!x&&!m&&e.jsx("div",{className:"text-text-secondary h-full flex items-center justify-center",children:"Migrated code will appear here."})]})]})]}),e.jsx("button",{onClick:()=>f(g,j,b),disabled:n,className:"btn-primary mt-4 w-full max-w-sm mx-auto flex items-center justify-center px-6 py-3",children:n?e.jsx(w,{}):"Migrate Code"})]})]})};export{R as AiCodeMigrator};
