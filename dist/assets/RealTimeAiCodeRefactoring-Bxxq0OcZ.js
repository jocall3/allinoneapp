import{r as t,bF as f,j as e,S as u,L as g}from"./index-Br2PlERp.js";import"https://esm.sh/octokit@4.0.2";const b=()=>{const[r,m]=t.useState("const x = arr.filter(i => i > 10);"),[n,o]=t.useState(""),[l,c]=t.useState(!1),i=t.useCallback(async s=>{if(!s.trim()){o("");return}c(!0);try{const a=f(s);let d="";for await(const x of a)d+=x;o(d)}catch(a){console.error(a),o("Could not get suggestion.")}finally{c(!1)}},[]);return t.useEffect(()=>{const s=setTimeout(()=>{i(r)},1e3);return()=>{clearTimeout(s)}},[r,i]),e.jsxs("div",{className:"h-full flex flex-col p-4 sm:p-6 lg:p-8 text-text-primary",children:[e.jsxs("header",{className:"mb-6",children:[e.jsxs("h1",{className:"text-3xl font-bold flex items-center",children:[e.jsx(u,{}),e.jsx("span",{className:"ml-3",children:"Real-time AI Code Refactoring"})]}),e.jsx("p",{className:"text-text-secondary mt-1",children:"As you code, AI provides real-time suggestions for refactoring."})]}),e.jsxs("div",{className:"flex flex-col gap-4 flex-grow min-h-0",children:[e.jsxs("div",{className:"flex flex-col flex-grow",children:[e.jsx("label",{htmlFor:"code-input",className:"text-sm font-medium text-text-secondary mb-2",children:"Your Code"}),e.jsx("textarea",{id:"code-input",value:r,onChange:s=>m(s.target.value),className:"flex-grow p-4 bg-surface border border-border rounded-md resize-none font-mono text-sm"})]}),e.jsxs("div",{className:"p-4 bg-background border border-border rounded-md min-h-[6rem]",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"AI Suggestion:"}),l&&e.jsx(g,{}),n&&!l&&e.jsx("pre",{className:"whitespace-pre-wrap font-mono text-sm text-green-500",children:n})]})]})]})};export{b as RealTimeAiCodeRefactoring};
