import{r as s,m as b,j as e,o as j,L as p}from"./index-Br2PlERp.js";import"https://esm.sh/octokit@4.0.2";const y=`diff --git a/src/components/Button.tsx b/src/components/Button.tsx
index 1b2c3d4..5e6f7g8 100644
--- a/src/components/Button.tsx
+++ b/src/components/Button.tsx
@@ -1,7 +1,7 @@
 import React from 'react';

 interface ButtonProps {
-  text: string;
+  label: string;
   onClick: () => void;
 }
`,w=({diff:t})=>{const[m,x]=s.useState(t||y),[r,f]=s.useState(""),[a,u]=s.useState(!1),[c,i]=s.useState(""),d=s.useCallback(async o=>{if(!o.trim()){i("Please paste a diff to generate a message.");return}u(!0),i(""),f("");try{const n=b(o);let l="";for await(const h of n)l+=h,f(l)}catch(n){const l=n instanceof Error?n.message:"An unknown error occurred.";i(`Failed to generate message: ${l}`)}finally{u(!1)}},[]);s.useEffect(()=>{t&&(x(t),d(t))},[t,d]);const g=()=>{navigator.clipboard.writeText(r)};return e.jsxs("div",{className:"h-full flex flex-col p-4 sm:p-6 lg:p-8 text-text-primary",children:[e.jsxs("header",{className:"mb-6",children:[e.jsxs("h1",{className:"text-3xl font-bold flex items-center",children:[e.jsx(j,{}),e.jsx("span",{className:"ml-3",children:"AI Commit Message Generator"})]}),e.jsx("p",{className:"text-text-secondary mt-1",children:"Paste your diff and let Gemini craft the perfect commit message."})]}),e.jsxs("div",{className:"flex-grow grid grid-cols-1 lg:grid-cols-2 gap-6 h-full overflow-hidden",children:[e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("label",{htmlFor:"diff-input",className:"text-sm font-medium text-text-secondary mb-2",children:"Git Diff"}),e.jsx("textarea",{id:"diff-input",value:m,onChange:o=>x(o.target.value),placeholder:"Paste your git diff here...",className:"flex-grow p-4 bg-surface border border-border rounded-md resize-none font-mono text-sm text-text-secondary focus:ring-2 focus:ring-primary focus:outline-none"}),e.jsx("button",{onClick:()=>d(m),disabled:a,className:"btn-primary mt-4 w-full flex items-center justify-center px-6 py-3",children:a?e.jsx(p,{}):"Generate Commit Message"})]}),e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("label",{className:"text-sm font-medium text-text-secondary mb-2",children:"Generated Message"}),e.jsxs("div",{className:"relative flex-grow p-4 bg-background border border-border rounded-md overflow-y-auto",children:[a&&!r&&e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(p,{})}),c&&e.jsx("p",{className:"text-danger",children:c}),r&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:g,className:"absolute top-2 right-2 px-2 py-1 bg-surface-hover hover:bg-border rounded-md text-xs",children:"Copy"}),e.jsx("pre",{className:"whitespace-pre-wrap font-sans text-text-primary",children:r})]}),!a&&!r&&!c&&e.jsx("div",{className:"text-text-secondary h-full flex items-center justify-center",children:"The commit message will appear here."})]})]})]})]})};export{w as AiCommitGenerator};
